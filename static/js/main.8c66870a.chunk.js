(this["webpackJsonproll-for-initiative"]=this["webpackJsonproll-for-initiative"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),i=n(8),s=n.n(i),l=(n(15),n(2)),u=n(9),o=n(3),j=n(7);function b(e,t){return 0===t.init-e.init?e.isPlayer?-1:t.isPlayer?1:0:t.init-e.init}function d(e){return e+(t=20,1+Math.floor(Math.random()*t));var t}var m=a.a.createContext(),h=0,O=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(l.a)(n,2),i=a[0],s=a[1],u=Object(r.useRef)(null),d=Object(r.useState)({index:0,id:i[0]}),O=Object(l.a)(d,2),f=O[0],p=O[1];function x(e){if(0!==i.length)return p({index:e,id:i[e].id}),u.current.style.transform="translateY(".concat(49.5+50*e,"px)");p({index:0,id:0})}return Object(r.useEffect)((function(){console.log("reloading");var e=i.findIndex((function(e){return e.id===f.id}));e===f.index||e<0||x(e)}),[i,f]),Object(c.jsx)(m.Provider,{value:{initiative:i,turnMarkerData:f,turnMarkerRef:u,addToOrder:function(e){s([].concat(Object(j.a)(i),Object(j.a)(e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{id:++h})})))).sort(b))},resetInit:function(){s([]),p({index:0,id:0}),x(0)},removeFromOrder:function(e){s(i.filter((function(t){return t.id!==e})))},changeName:function(e,t){s(i.map((function(n){return n.id===e?Object(o.a)(Object(o.a)({},n),{},{name:t}):n})))},changeHP:function(e,t){s(i.map((function(n){return n.id===e?Object(o.a)(Object(o.a)({},n),{},{HP:t}):n})))},calculateTrackerPosition:x},children:t})};function f(){return Object(r.useContext)(m)}n(16);var p=function(){var e=f(),t=e.addToOrder,n=e.resetInit,a=e.initiative,i=e.turnMarkerData,s=e.calculateTrackerPosition,o=Object(r.useState)(!1),j=Object(l.a)(o,2),b=j[0],m=j[1],h=Object(r.useState)(1),O=Object(l.a)(h,2),p=O[0],x=O[1],v=Object(r.useState)(0),g=Object(l.a)(v,2),N=g[0],y=g[1],C=Object(r.useState)(1),P=Object(l.a)(C,2),F=P[0],k=P[1],M=Object(r.useRef)(null);return Object(r.useEffect)((function(){b&&M.current.focus()}),[b]),Object(c.jsxs)("header",{className:"init-header",children:[Object(c.jsx)("h1",{children:"Roll For Initiative!"}),Object(c.jsxs)("nav",{className:"toolbar",children:[Object(c.jsx)("div",{className:"toolbar-btn-container",children:Object(c.jsx)("button",{className:"toolbar-btn reset-btn",onClick:n,children:"Reset Initiative"})}),Object(c.jsx)("div",{className:"toolbar-btn-container",children:Object(c.jsx)("button",{className:"toolbar-btn advance-btn",onClick:function(){if(0!==a.length){var e=i.index+1;e>=a.length&&(e=0),s(e)}},children:"Finish Turn"})}),Object(c.jsx)("div",{className:"toolbar-btn-container",children:Object(c.jsx)("button",{className:"toolbar-btn preroll-btn",onClick:function(){m(!b)},children:"Batch-add Monsters"})}),Object(c.jsx)("div",{className:"modal ".concat(b?"":"hidden"),children:Object(c.jsxs)("form",{className:"preroll-form",onSubmit:function(e){e.preventDefault();for(var n=[],c=0;c<p;c++)n.push({name:"monster ".concat(c+1),init:d(N),HP:F,isPlayer:!1});t(n),x(1),y(0),m(!1)},children:[Object(c.jsx)("h3",{children:"Monster pre-roller"}),Object(c.jsx)("button",{className:"close-preroll",onClick:function(){return m(!1)},children:Object(c.jsx)(u.a,{})})," ",Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("label",{htmlFor:"numMonsters",children:"How Many Monsters?"}),Object(c.jsx)("input",{className:"input preroll-input",type:"number",name:"numMonsters",id:"numMonsters",ref:M,value:p,onChange:function(e){return x(parseInt(e.target.value))},onFocus:function(e){return e.target.select()}})]}),Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("label",{htmlFor:"initMod",children:"Initiative Modifier"}),Object(c.jsx)("input",{className:"input preroll-input",type:"number",name:"initMod",id:"initMod",value:N,onChange:function(e){return y(parseInt(e.target.value))},onFocus:function(e){return e.target.select()}})]}),Object(c.jsxs)("div",{className:"input-container",children:[Object(c.jsx)("label",{htmlFor:"preRollHP",children:"Max HP"}),Object(c.jsx)("input",{className:"input preroll-input",type:"number",name:"preRollHP",id:"preRollHP",value:F,onChange:function(e){return k(parseInt(e.target.value))},onFocus:function(e){return e.target.select()}})]}),Object(c.jsx)("input",{className:"preroll-submit",type:"submit",value:"Roll monsters!"})]})})]})]})},x=(n(17),function(e){var t=e.name,n=e.checked,r=e.onChange;return Object(c.jsxs)("div",{className:"toggle-switch",children:[Object(c.jsx)("input",{type:"checkbox",className:"toggle-switch-checkbox",name:t,id:t,checked:n,onChange:r}),Object(c.jsxs)("label",{className:"toggle-switch-label",htmlFor:t,children:[Object(c.jsx)("span",{className:"toggle-switch-inner"}),Object(c.jsx)("span",{className:"toggle-switch-switch"})]})]})}),v=(n(18),function(){var e=f().addToOrder,t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(""),u=Object(l.a)(s,2),o=u[0],j=u[1],b=Object(r.useState)(1),d=Object(l.a)(b,2),m=d[0],h=d[1],O=Object(r.useState)(1),p=Object(l.a)(O,2),v=p[0],g=p[1];return Object(c.jsxs)("div",{className:"form-container",children:[Object(c.jsxs)("h2",{children:["Add To Initiative"," ",Object(c.jsx)(x,{name:"Creature Type",checked:a,onChange:function(){return i(!a)}})]}),Object(c.jsxs)("form",{className:"add-form",onSubmit:function(t){t.preventDefault(),e([{name:o,init:m,HP:v,isPlayer:a}]),j(""),h(1),g(1)},children:[Object(c.jsxs)("div",{className:"form-input",children:[Object(c.jsx)("label",{htmlFor:"",children:"Name of Creature:"}),Object(c.jsx)("input",{className:"input add-input",type:"text",value:o,onChange:function(e){return j(e.target.value)},onFocus:function(e){return e.target.select()}})]}),Object(c.jsxs)("div",{className:"form-input number-input",children:[Object(c.jsx)("label",{htmlFor:"",children:"Initiative:"}),Object(c.jsx)("input",{className:"input add-input",type:"number",value:m,onChange:function(e){return h(parseInt(e.target.value))},onFocus:function(e){return e.target.select()}})]}),!a&&Object(c.jsxs)("div",{className:"form-input number-input",children:[Object(c.jsx)("label",{htmlFor:"",children:"HP:"}),Object(c.jsx)("input",{className:"input add-input",type:"number",value:v,onChange:function(e){return g(parseInt(e.target.value))},onFocus:function(e){return e.target.select()}})]}),Object(c.jsx)("input",{className:"add-input",type:"submit",value:"Submit"})]})]})}),g=(n(19),function(e){var t=e.creature,n=t.init,r=t.name,a=t.isPlayer,i=t.HP,s=t.id,l=f(),u=l.changeHP,o=l.changeName,j=l.removeFromOrder;return Object(c.jsxs)("div",{className:"init-creature ".concat(a?"player":"creature"),children:[Object(c.jsx)("div",{className:"init-number",children:n}),Object(c.jsx)("input",{type:"text",name:"Creature Name",className:"pretty-input creature-name-input",value:r,onChange:function(e){return o(s,e.target.value)}}),!a&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("label",{htmlFor:"Creature HP",style:{fontWeight:"normal"},children:"HP"}),Object(c.jsx)("input",{type:"number",name:"Creature HP",min:"0",className:"pretty-input creature-hp",value:i,onChange:function(e){var t=parseInt(e.target.value);if(t<=0)return j(s);u(s,t)}})]})]})}),N=(n(20),function(){var e=f(),t=e.initiative,n=e.turnMarkerRef;return Object(c.jsxs)("div",{className:"list-container",children:[Object(c.jsx)("h2",{children:"Initiative List"}),Object(c.jsx)("div",{className:"turn-marker ".concat(t.length>0?"":"hidden"),ref:n}),t.map((function(e){return Object(c.jsx)(g,{creature:e},"".concat(e.isPlayer?"player":"monster","-").concat(e.id))}))]})});n(21);var y=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(O,{children:[Object(c.jsx)(p,{}),Object(c.jsxs)("div",{className:"initiave-tracker",children:[Object(c.jsx)(v,{}),Object(c.jsx)(N,{})]})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root")),C()}],[[22,1,2]]]);
//# sourceMappingURL=main.8c66870a.chunk.js.map